(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{38770:()=>{},50655:(e,t,n)=>{"use strict";n.d(t,{default:()=>p});var r=n(42289),o=n(85675),a=n(82640),i=n(97268),s=n(43773),c=n(36647),u=n(70345),l=n(86645);function d(e){let{loading:t=!0}=e;return(0,r.jsx)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center transition-all duration-500 ".concat(t?"bg-background/95 pointer-events-auto opacity-100 backdrop-blur-[2px]":"pointer-events-none bg-transparent opacity-0 backdrop-blur-0"),children:(0,r.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"border-primary mx-auto mb-4 h-12 w-12 animate-spin rounded-full border-b-2 border-t-2"}),(0,r.jsx)("p",{className:"text-muted-foreground text-lg",children:"Loading..."})]})})})}function p(e){let{children:t,common:n,user:p}=e,[m,b]=(0,l.useState)(!0),[f]=(0,l.useState)(()=>new i.E({defaultOptions:{queries:{staleTime:5e3,retry:!1}}})),{setCommon:h,setUser:_}=(0,o.A)();return(0,l.useEffect)(()=>{(async()=>{try{p?_(p):(0,a.fQ)(),h(n)}finally{setTimeout(()=>{b(!1)},1e3)}})()},[_,h,p,n]),(0,l.useEffect)(()=>{let e=new URLSearchParams(location.search).get("invite");e&&localStorage.setItem("invite",e)},[]),(0,r.jsx)(u.N,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:(0,r.jsx)(s.Ht,{client:f,children:(0,r.jsxs)(c.x,{children:[(0,r.jsx)(d,{loading:m||f.isMutating()>0}),t]})})})}},85675:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _config_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(84157),_services_user_user__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(94063),_workspace_ui_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(84088),zustand__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(202);let useGlobalStore=(0,zustand__WEBPACK_IMPORTED_MODULE_3__.v)((set,get)=>({common:{site:{host:"",site_name:"",site_desc:"",site_logo:"",keywords:"",custom_html:"",custom_data:""},verify:{turnstile_site_key:"",enable_login_verify:!1,enable_register_verify:!1,enable_reset_password_verify:!1},auth:{mobile:{enable:!1,enable_whitelist:!1,whitelist:[]},email:{enable:!1,enable_verify:!1,enable_domain_suffix:!1,domain_suffix_list:""},register:{stop_register:!1,enable_ip_register_limit:!1,ip_register_limit:0,ip_register_limit_duration:0},device:{enable:!1,show_ads:!1,enable_security:!1,only_real_device:!1}},invite:{forced_invite:!1,referral_percentage:0,only_first_purchase:!1},currency:{currency_unit:"USD",currency_symbol:"$"},subscribe:{single_model:!1,subscribe_path:"",subscribe_domain:"",pan_domain:!1,user_agent_limit:!1,user_agent_list:""},verify_code:{verify_code_expire_time:5,verify_code_limit:15,verify_code_interval:60},oauth_methods:[],web_ad:!1},user:void 0,setCommon:e=>set(t=>({common:{...t.common,...e}})),setUser:e=>set({user:e}),getUserInfo:async()=>{try{let{data:e}=await (0,_services_user_user__WEBPACK_IMPORTED_MODULE_1__.Mn)();set({user:e.data})}catch(e){console.error("Failed to refresh user:",e)}},getUserSubscribe:(e,t)=>{let{pan_domain:n,subscribe_domain:r,subscribe_path:o}=get().common.subscribe||{};return(r?r.split("\n"):[(0,_workspace_ui_utils__WEBPACK_IMPORTED_MODULE_2__.aX)(_config_constants__WEBPACK_IMPORTED_MODULE_0__.tG||_config_constants__WEBPACK_IMPORTED_MODULE_0__.Cm||"",n)]).map(r=>n?t?"https://".concat(e,".").concat(t,".").concat(r):"https://".concat(e,".").concat(r):t?"https://".concat(r).concat(o,"?token=").concat(e,"&type=").concat(t):"https://".concat(r).concat(o,"?token=").concat(e))},getAppSubLink:(url,schema)=>{var _get_common_site,_get_common;let name=(null==(_get_common=get().common)||null==(_get_common_site=_get_common.site)?void 0:_get_common_site.site_name)||"";if(!schema)return"url";try{let prev,result=schema.replace(/\${url}/g,url).replace(/\${name}/g,name),maxLoop=10,loop=0;do prev=result,result=result.replace(/\${encodeURIComponent\(JSON\.stringify\(([^)]+)\)\)}/g,(match,expr)=>{try{let processedExpr=expr.replace(/url/g,'"'.concat(url,'"')).replace(/name/g,'"'.concat(name,'"'));if(processedExpr.includes("server_remote")){let serverRemoteValue="".concat(url,", tag=").concat(name);return encodeURIComponent(JSON.stringify({server_remote:[serverRemoteValue]}))}let obj=eval("(".concat(processedExpr,")"));return encodeURIComponent(JSON.stringify(obj))}catch(e){return match}}),result=result.replace(/\${encodeURIComponent\(([^)]+)\)}/g,(e,t)=>{if("url"===t)return encodeURIComponent(url);if("name"===t)return encodeURIComponent(name);try{return encodeURIComponent(t)}catch(t){return e}}),result=result.replace(/\${window\.btoa\(([^)]+)\)}/g,(e,t)=>{let n=window.btoa;if("url"===t)return n(url);if("name"===t)return n(name);try{return n(t)}catch(t){return e}}),result=result.replace(/\${JSON\.stringify\(([^}]+)\)}/g,(match,expr)=>{try{let processedExpr=expr.replace(/url/g,'"'.concat(url,'"')).replace(/name/g,'"'.concat(name,'"'));if(processedExpr.includes("server_remote")){let serverRemoteValue="".concat(url,", tag=").concat(name);return JSON.stringify({server_remote:[serverRemoteValue]})}let result=eval("(".concat(processedExpr,")"));return JSON.stringify(result)}catch(e){return match}}),loop++;while(result!==prev&&loop<maxLoop);return result}catch(error){return""}}})),__WEBPACK_DEFAULT_EXPORT__=useGlobalStore},93122:(e,t,n)=>{Promise.resolve().then(n.bind(n,50655)),Promise.resolve().then(n.bind(n,97034)),Promise.resolve().then(n.bind(n,87086)),Promise.resolve().then(n.bind(n,32868)),Promise.resolve().then(n.t.bind(n,92044,23)),Promise.resolve().then(n.t.bind(n,57428,23)),Promise.resolve().then(n.bind(n,57326)),Promise.resolve().then(n.bind(n,99798)),Promise.resolve().then(n.t.bind(n,38770,23))},94063:(e,t,n)=>{"use strict";n.d(t,{Cc:()=>h,KL:()=>i,Mn:()=>d,T6:()=>y,T8:()=>o,al:()=>_,c8:()=>l,ej:()=>m,fX:()=>s,ij:()=>f,k9:()=>b,kA:()=>p,p0:()=>u,v0:()=>a,zT:()=>c});var r=n(26713);async function o(e){return(0,r.A)("/v1/public/user/affiliate/count",{method:"GET",...e||{}})}async function a(e,t){return(0,r.A)("/v1/public/user/affiliate/list",{method:"GET",params:{...e},...t||{}})}async function i(e){return(0,r.A)("/v1/public/user/balance_log",{method:"GET",...e||{}})}async function s(e,t){return(0,r.A)("/v1/public/user/bind_email",{method:"PUT",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function c(e,t){return(0,r.A)("/v1/public/user/bind_mobile",{method:"PUT",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function u(e,t){return(0,r.A)("/v1/public/user/bind_oauth",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function l(e,t){return(0,r.A)("/v1/public/user/bind_oauth/callback",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function d(e){return(0,r.A)("/v1/public/user/info",{method:"GET",...e||{}})}async function p(e,t){return(0,r.A)("/v1/public/user/notify",{method:"PUT",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function m(e,t){return(0,r.A)("/v1/public/user/password",{method:"PUT",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function b(e){return(0,r.A)("/v1/public/user/subscribe",{method:"GET",...e||{}})}async function f(e,t){return(0,r.A)("/v1/public/user/subscribe_token",{method:"PUT",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function h(e,t){return(0,r.A)("/v1/public/user/unbind_oauth",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function _(e,t){return(0,r.A)("/v1/public/user/unsubscribe",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function y(e,t){return(0,r.A)("/v1/public/user/unsubscribe/pre",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...t||{}})}},99798:(e,t,n)=>{"use strict";n.d(t,{Toaster:()=>i});var r=n(42289),o=n(70345),a=n(57326);let i=e=>{let{...t}=e,{theme:n="system"}=(0,o.D)();return(0,r.jsx)(a.l,{theme:n,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4175,7162,3607,6976,6051,3769,4445,3367,7358],()=>t(93122)),_N_E=e.O()}]);